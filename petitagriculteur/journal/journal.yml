Asset:
  id: serial32
  account: accounting\Account
  accountLabel: text8(1, null) @collate(general)
  # Valeur d'acquisition
  value: decimal(8, 2)
  description: text8(1, null) @collate(general)
  type: enum(LINEAR, WITHOUT)
  # Date d'achat
  acquisitionDate: date
  # Date de mise en service (= début de l'amortissement)
  startDate: date
  # Date de fin d'amortissement (calculé)
  endDate: date
  # Durée en années
  duration: int8(0, null)
  status: enum(ONGOING, SOLD, ENDED) = ONGOING
  createdAt: datetime = SPECIAL(now)
  updatedAt: datetime = SPECIAL(now)

Operation:
  id: serial32
  # Compte concerné par l'opération
  account: accounting\Account
  accountLabel: text8(1, null) @collate(general)
  thirdParty: ?journal\ThirdParty
  date: date(PHP(toDate('NOW - 2 YEARS')), PHP(toDate('NOW + 1 YEARS')))
  # Libellé de l'opération
  description: text8(1, null) @collate(general)
  document: ?text8(1, null) @collate(general)
  # Une opération est toujours HT
  amount: decimal(8, 2)
  type: enum(DEBIT, CREDIT)
  cashflow: ?bank\Cashflow
  vatRate: decimal(5, 2) = 0.00
  vatAccount: ?accounting\Account
  # Opération à laquelle celle-ci est liée (ex: opération de TVA reliée à une autre opération)
  operation: ?journal\Operation
  # Immobilisation à laquelle cette opération est liée (obligatoire pour une classe 2)
  asset: ?journal\Asset
  comment: ?text8(1, null)
  createdAt: datetime = SPECIAL(now)
  updatedAt: datetime = SPECIAL(now)
  INDEX: [
    ["document"],
    ["cashflow"]
  ]

Pdf:
  id: serial32
  used: int16(0, null) = 1
  content: ?journal\PdfContent
  emailedAt: ?datetime
  createdAt: datetime = SPECIAL(now)
  INDEX: [
    ["content"]
  ]

PdfContent:
  id: serial32
  hash: ?textFixed(20, 20) @charset(ascii)
  createdAt: datetime = SPECIAL(now)

ThirdParty:
  id: serial32
  name: text8(1, null) @collate(general)
  UNIQUE: [
    ["name"]
  ]
